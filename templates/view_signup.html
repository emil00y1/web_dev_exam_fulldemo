{% include "_top.html" %} 

<main id="view_signup" class="mx-4 mb-16" md="mx-6" lg="mx-8">
    <section class="mx-auto max-w-100 pb-4" sm="d-flex flex-col h-full j-content-center">
        <h1 class="mb-8">Signup</h1>
        <form id="frm_user_signup" class="d-flex flex-col gap-4">
            <div class="d-flex flex-col">
                <label for="user_name">
                    <span>Name</span>
                </label>
                <input name="user_name" id="user_name" type="text" mix-check="{{ x.USER_NAME_REGEX }}">
            </div>
    
            <div class="d-flex flex-col">
                <label for="user_last_name">
                    <span>Last name</span>
                </label>
                <input name="user_last_name" id="user_last_name" type="text" mix-check="{{ x.USER_LAST_NAME_REGEX }}">
            </div>        
    
            <div class="d-flex flex-col">
                <label for="user_role">
                    <span>Role</span>
                </label>
                <select name="role" id="user_role" class="p-2 br-4 bg-c-white shadow-sm pa-4 text-100 text-t-capitalize">
                    {% for role in roles %}
                        <option value="{{ role.role_pk }}">{{ role.role_name }}</option>
                    {% endfor %}
                </select>
            </div>
            
            <!-- New address fields - initially hidden -->
            <div id="address_fields" class="d-none">
                <div class="d-flex flex-col gap-4 bg-c-tealblue:+46 pa-4 rounded-md mt-2">
                    <h3 class="text-c-tealblue:-10 text-w-semibold">Restaurant Address</h3>
                    
                    <div class="d-flex flex-col">
                        <label for="street">Street</label>
                        <input name="street" id="street" type="text" class="bg-c-white">
                    </div>

                    <div class="d-flex flex-col">
                        <label for="house_number">House Number</label>
                        <input name="house_number" id="house_number" type="text" class="bg-c-white">
                    </div>

                    <div class="d-flex flex-col">
                        <label for="postcode">Postal Code</label>
                        <input name="postcode" id="postcode" type="text" class="bg-c-white">
                    </div>

                    <div class="d-flex flex-col">
                        <label for="city">City</label>
                        <input name="city" id="city" type="text" class="bg-c-white">
                    </div>
                </div>
            </div>
    
            <div class="d-flex flex-col">
                <label for="user_email">
                    <span>E-mail</span>
                </label>
                <input name="user_email" id="user_email" type="text" mix-check="{{ x.REGEX_EMAIL }}">
            </div>
    
            <div class="d-flex flex-col">
                <label for="user_password" class="d-flex">
                    <span>Password</span>
                    <span class="ml-auto text-c-gray:+25">{{ x.USER_PASSWORD_MIN }} to {{ x.USER_PASSWORD_MAX }} chars</span>
                </label>
                <input name="user_password" id="user_password" type="text" mix-check="{{ x.REGEX_USER_PASSWORD }}">
            </div>        
    
            <button mix-post="/users" mix-data="#frm_user_signup" class="text-c-white bg-c-tealblue:-5 cursor-pointer py-3 px-5 rounded-sm" hover="bg-c-tealblue:-8">
                Signup
            </button>
    
            <p>Already have an account? | <a href="{{url_for('view_login')}}" class="text-a-center text-c-black text-d-underline">Login</a></p>
        </form>
    </section>
</main>


{% include "_bottom.html" %}
